console.log("MobileNav script loaded"),window.Skyforest=window.Skyforest||{},window.Skyforest.MobileNav={injectCSS:()=>{if(document.getElementById("mobile-nav-style"))return;const e=document.createElement("style");e.id="mobile-nav-style",e.textContent='\n        @media (max-width: 768px) {\n          #skyforest-sticky-header .mobile-nav-row {\n            display: flex !important;\n            align-items: center !important;\n            justify-content: space-between !important;\n            width: 100%;\n            padding: 0px 12px;\n          }\n\n          #skyforest-sticky-header .navbar-toggle,\n          #skyforest-sticky-header .navbar-brand {\n            margin: 0 !important;\n            padding: 0 !important;\n          }\n\n          /* Center logo */\n          #skyforest-sticky-header .navbar-brand {\n            flex: 1;\n            display: flex !important;\n            justify-content: center !important;\n            align-items: center !important;\n            text-align: center !important;\n          }\n\n          #skyforest-sticky-header .navbar-brand img {\n            max-height: 28px;\n            width: auto;\n            margin: 0 auto;\n          }\n\n          #skyforest-sticky-header .skyforest-book-btn {\n            background: #ffb81c;\n            color: #000;\n            font-weight: 700;\n            text-transform: uppercase;\n            padding: 6px 12px;\n            border: 2px solid #000;\n            font-size: 14px;\n            border-radius: 2px;\n            text-align: center;\n            white-space: nowrap;\n          }\n\n          #skyforest-sticky-header .skyforest-book-btn:hover {\n            background: #e6a600;\n          }\n\n          /* Remove Houfy\'s duplicate Book */\n          #skyforest-sticky-header nav.houfy-default-navbar a[href*="book"],\n          #skyforest-sticky-header nav.houfy-default-navbar button {\n            display: none !important;\n          }\n\n          /* Fix dropdown so it overlays instead of pushing */\n          #skyforest-sticky-header #hnavbar {\n            position: absolute !important;\n            top: 100% !important;\n            left: 0 !important;\n            right: 0 !important;\n            background-color: #ffffff !important;\n            z-index: 99999 !important;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.1) !important;\n            padding: 16px !important;\n\n            /* Hidden by default */\n            display: none !important;\n            visibility: hidden !important;\n            opacity: 0 !important;\n            transition: opacity 0.3s ease-in-out;\n          }\n\n          /* Shown when Houfy applies collapse/show classes */\n          #skyforest-sticky-header #hnavbar.in,\n          #skyforest-sticky-header #hnavbar.show {\n            display: block !important;\n            visibility: visible !important;\n            opacity: 1 !important;\n          }\n        }\n      ',document.head.appendChild(e),console.log("‚úÖ MobileNav CSS injected")},removeCSS:()=>{const e=document.getElementById("mobile-nav-style");e&&(e.remove(),console.log("üßπ MobileNav CSS removed"))},arrange:()=>{if(window.innerWidth>768)return window.Skyforest.MobileNav.remove(),void window.Skyforest.MobileNav.removeCSS();const e=document.querySelector("#skyforest-sticky-header .container");if(!e)return void console.warn("‚ö†Ô∏è MobileNav: container not found yet");let n=e.querySelector(".mobile-nav-row");if(!n){n=document.createElement("div"),n.className="mobile-nav-row";const o=e.querySelector(".navbar-brand"),t=e.querySelector(".navbar-toggle");o&&t&&(n.appendChild(t),n.appendChild(o),e.insertBefore(n,e.firstChild))}let o=n.querySelector(".skyforest-book-btn");o||(o=document.createElement("a"),o.className="skyforest-book-btn",o.href="/book",o.innerText="Book",o.addEventListener("click",()=>{"function"==typeof gtag&&gtag("event","header_book_click",{location:"mobile_nav",element:"book_button",url:o.href}),console.log("üìä GA Event fired: header_book_click (mobile_nav)")}),n.appendChild(o)),window.Skyforest.MobileNav.injectCSS();const t=n.querySelector(".navbar-toggle");if(t&&o){const e=o.offsetWidth;t.style.flex=`0 0 ${e}px`,o.style.flex=`0 0 ${e}px`}console.log("‚úÖ MobileNav arranged safely: [‚ò∞] [Logo] [Book]")},remove:()=>{const e=document.querySelector("#skyforest-sticky-header .skyforest-book-btn");e&&(e.remove(),console.log("üßπ MobileNav Book button removed"))},init:()=>{console.log("üöÄ MobileNav.init called"),window.Skyforest.MobileNav.arrange(),new MutationObserver(()=>{window.Skyforest.MobileNav.arrange()}).observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("resize",window.Skyforest.MobileNav.arrange)}},document.addEventListener("DOMContentLoaded",()=>{window.Skyforest.MobileNav.init()}),console.log("PromoBanner script loaded"),window.Skyforest=window.Skyforest||{},window.Skyforest.PromoBanner={variants:[{id:"summer-50",message:"üî• Winter weekends are 50% booked",cta:"CHECK AVAILABILITY",url:"/book"},{id:"fall-deals",message:"üçÇ Fall escapes from $130/night",cta:"EXPLORE DATES",url:"/book"},{id:"direct-save",message:"üí∏ Save 15% when you book direct",cta:"SEE RATES",url:"/book"}],currentIndex:0,interval:null,injectCSS:()=>{if(document.getElementById("promo-banner-style"))return;const e=document.createElement("style");e.id="promo-banner-style",e.textContent='\n        #promo-banner {\n          background: #6b6f2a;\n          color: white;\n          font-family: "DM Sans", sans-serif;\n          font-size: 14px;\n          text-align: center;\n          padding: 12px 20px;\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          z-index: 10001;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n        #promo-banner .promo-text,\n        #promo-banner .promo-cta {\n          transition: opacity 0.4s ease-in-out;\n        }\n        #promo-banner .promo-text { font-weight: 400; }\n        #promo-banner .promo-cta {\n          font-weight: 700;\n          text-transform: uppercase;\n          color: #fff;\n          text-decoration: underline;\n          cursor: pointer;\n        }\n        #promo-banner .promo-cta:hover { opacity: 0.85; }\n        @media (max-width: 600px) {\n          #promo-banner { flex-direction: column; gap: 0px; }\n          #promo-banner .promo-cta { display: block; }\n        }\n      ',document.head.appendChild(e),console.log("‚úÖ PromoBanner CSS injected")},waitForStickyNav:(e,n=20)=>{const o=document.getElementById("skyforest-sticky-header");o?e(o):n>0?setTimeout(()=>window.Skyforest.PromoBanner.waitForStickyNav(e,n-1),300):(console.warn("‚ö†Ô∏è Sticky nav not found, falling back to <body> prepend"),e(null))},showVariant:(e,n,o)=>{const t=window.Skyforest.PromoBanner.variants[e];n.dataset.variant=t.id;const r=n.querySelector(".promo-text"),a=n.querySelector(".promo-cta");r.style.opacity=0,a.style.opacity=0,setTimeout(()=>{r.textContent=t.message,a.textContent=t.cta,a.href=t.url,a.onclick=()=>{"function"==typeof gtag&&gtag("event","promo_banner_click",{promo_variant:t.id,promo_message:t.message,promo_cta:t.cta,promo_url:t.url}),console.log(`üìä GA Event fired: promo_banner_click [${t.id}]`)},r.style.opacity=1,a.style.opacity=1;const e=n.offsetHeight;if(document.documentElement.style.setProperty("--promo-height",`${e}px`),o){o.style.top=`${e}px`;const n=o.offsetHeight;document.documentElement.style.setProperty("--nav-height",`${n}px`)}},300)},init:()=>{window.Skyforest.PromoBanner.injectCSS(),window.Skyforest.PromoBanner.waitForStickyNav(e=>{const n=document.createElement("div");n.id="promo-banner",n.innerHTML='\n          <span class="promo-text"></span>\n          <a class="promo-cta"></a>\n        ',e&&e.parentNode?e.parentNode.insertBefore(n,e):document.body.prepend(n),window.Skyforest.PromoBanner.showVariant(0,n,e),window.Skyforest.PromoBanner.interval=setInterval(()=>{window.Skyforest.PromoBanner.currentIndex=(window.Skyforest.PromoBanner.currentIndex+1)%window.Skyforest.PromoBanner.variants.length,window.Skyforest.PromoBanner.showVariant(window.Skyforest.PromoBanner.currentIndex,n,e)},5e3),console.log("‚úÖ PromoBanner initialized")})}},document.addEventListener("DOMContentLoaded",()=>{window.Skyforest.PromoBanner.init()}),console.log("PromoFeature script loaded"),window.Skyforest=window.Skyforest||{},window.Skyforest.PromoFeature={injectCSS:()=>{if(document.getElementById("promo-feature-style"))return;const e=document.createElement("style");e.id="promo-feature-style",e.textContent='\n        #promo-feature {\n          display: flex;\n          flex-wrap: nowrap;\n          border: 1px solid #ccc;\n          background: #f7f4e7;\n          margin: 2rem 0;\n          font-family: "DM Sans", sans-serif;\n        }\n        #promo-feature img {\n          width: 50%;\n          object-fit: cover;\n          display: block;\n        }\n        #promo-feature .promo-content {\n          flex: 1;\n          padding: 2rem;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          background: #f7f4e7;\n          text-align: center;\n        }\n        #promo-feature .promo-tag {\n          background: #ffe89c;\n          color: #333;\n          font-size: .8rem;\n          font-weight: 700;\n          padding: 0.25rem 1rem;\n          border-radius: 2rem;\n          display: inline-block;\n          margin: 0 auto 1.5rem auto;\n        }\n        #promo-feature h3 {\n          font-size: 1.8rem !important;\n          line-height: 1.2em !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          font-weight: 700;\n        }\n        #promo-feature p {\n          margin: 0;\n          font-size: .8rem;\n          line-height: 1.8;\n        }\n        #promo-feature .promo-cta {\n          display: inline-block;\n          background: #f6b93b;\n          color: #000 !important;\n          text-decoration: none;\n          font-weight: 600;\n          text-transform: uppercase;\n          padding: .75rem;\n          border: 1px solid #222;\n          transition: background 0.2s ease, color 0.2s ease;\n          text-align: center;\n          margin: 1rem auto .5rem auto;\n          font-size: .9rem;\n          width: 100%;\n        }\n        #promo-feature .promo-cta:hover {\n          background: #e0a52f;\n          color: #000;\n        }\n        #promo-feature .promo-rating {\n          font-size: .8rem;\n          color: #333;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 0.75rem;\n        }\n        #promo-feature .promo-rating::before {\n          content: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ";\n          color: #f6b93b;\n          font-size: 1rem;\n          letter-spacing: 0.1rem;\n        }\n        @media (max-width: 900px) {\n          #promo-feature {\n            flex-direction: column;\n            text-align: center;\n          }\n          #promo-feature img {\n            width: 100%;\n          }\n          #promo-feature .promo-content {\n            padding: 1rem;\n          }\n          #promo-feature .promo-tag {\n            margin: .5rem auto 1rem auto;\n          }\n          #promo-feature .promo-cta {\n            padding: .5rem;\n            margin-top: 0rem;\n          }\n          \n        }\n      ',document.head.appendChild(e),console.log("‚úÖ PromoFeature CSS injected")},getSlug:()=>window.location.pathname.replace(/^\//,"").replace(/\/$/,"").split("/").pop(),init:async(e="/js/promo-feature.json")=>{window.Skyforest.PromoFeature.injectCSS();const n=window.Skyforest.PromoFeature.getSlug();try{const o=await fetch(e),t=await o.json();if(!t[n])return void console.warn(`‚ö†Ô∏è PromoFeature: no promo defined for slug "${n}"`);const r=t[n],a=document.getElementById(r.insertAfterId);if(!a)return void console.warn(`‚ö†Ô∏è PromoFeature: insertAfterId "${r.insertAfterId}" not found`);const i=document.createElement("div");i.id="promo-feature",i.innerHTML=`\n          ${r.image?`<img src="${r.image}" alt="${r.headline}">`:""}\n          <div class="promo-content">\n            ${r.tag?`<span class="promo-tag">${r.tag}</span>`:""}\n            <h3 class="promo-header">${r.headline}</h3>\n            <p>${r.body}</p>\n            <a class="promo-cta" href="${r.url}">${r.cta}</a>\n            ${r.rating?`<div class="promo-rating">${r.rating}</div>`:""}\n          </div>\n        `,a.insertAdjacentElement("afterend",i);const s=i.querySelector(".promo-cta");s&&s.addEventListener("click",()=>{"function"==typeof gtag&&gtag("event","promo_feature_click",{page_slug:n,headline:r.headline,cta:r.cta,url:r.url}),console.log(`üìä GA Event fired: promo_feature_click [${n}]`)})}catch(e){console.error("‚ùå PromoFeature error:",e)}}},document.addEventListener("DOMContentLoaded",()=>{window.Skyforest.PromoFeature.init()}),console.log("StickyHeader script loaded"),window.Skyforest=window.Skyforest||{},window.Skyforest.StickyHeader={injectCSS:()=>{if(document.getElementById("sticky-header-style"))return;const e=document.createElement("style");e.id="sticky-header-style",e.textContent="\n        #skyforest-sticky-header {\n          position: fixed !important;\n          top: var(--promo-height, 0px); /* offset by promo banner if present */\n          left: 0;\n          right: 0;\n          z-index: 10000 !important;\n          background: #ffffff !important;\n          box-shadow: 0 2px 5px rgba(0,0,0,0.1) !important;\n        }\n\n        body {\n          padding-top: calc(var(--promo-height, 0px) + var(--nav-height, 0px));\n        }\n      ",document.head.appendChild(e),console.log("‚úÖ StickyHeader CSS injected")},applySticky:e=>{if(!e)return;if("skyforest-sticky-header"===e.id)return;e.classList.remove("navbar-static-top","houfy-default-navbar","hweb-navbar"),e.id="skyforest-sticky-header";const n=e.offsetHeight;document.documentElement.style.setProperty("--nav-height",`${n}px`),console.log("‚úÖ StickyHeader applied, height =",n)},observeForNav:()=>{new MutationObserver(()=>{const e=document.querySelector("#skyforest-sticky-header, .navbar.navbar-static-top, .houfy-default-navbar, .hweb-navbar");e&&window.Skyforest.StickyHeader.applySticky(e)}).observe(document.body,{childList:!0,subtree:!0}),console.log("üëÄ StickyHeader observer running")},init:()=>{window.Skyforest.StickyHeader.injectCSS();const e=document.querySelector(".navbar.navbar-static-top, .houfy-default-navbar, .hweb-navbar");e&&window.Skyforest.StickyHeader.applySticky(e),window.Skyforest.StickyHeader.observeForNav(),console.log("‚úÖ StickyHeader initialized")}},document.addEventListener("DOMContentLoaded",()=>{window.Skyforest.StickyHeader.init()});